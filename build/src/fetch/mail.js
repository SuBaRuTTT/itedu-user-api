'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

var _config = require('../config');

var _mail = require('@sendgrid/mail');

var _mail2 = _interopRequireDefault(_mail);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable max-len */
_mail2.default.setApiKey(_config.SENDGRID_API_KEY);

var sendActivateUserEmail = function _callee(userEmail, userName, verifyEmailToken) {
  var activatedLink, msg;
  return _regenerator2.default.async(function _callee$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          activatedLink = _config.FRONTEND_URL + '/activate?jwt=' + verifyEmailToken + '&email=' + userEmail;
          msg = {
            to: userEmail,
            from: _config.TEAM_EMAIL,
            subject: 'ITEDU - Kích hoạt tài khoản',
            html: '<table\n        dir="ltr"\n        class="m_-6176438667551660725body"\n        style="border-spacing:0;border-collapse:collapse;vertical-align:top;background:#f3f3f3;height:100%;width:100%;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;margin-bottom:0px!important;background-color:white"\n      >\n        <tbody>\n          <tr style="padding:0;vertical-align:top;text-align:left">\n            <td\n              class="m_-6176438667551660725center"\n              align="center"\n              valign="top"\n              style="word-wrap:break-word;vertical-align:top;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;border-collapse:collapse!important"\n            >\n              <center style="width:100%;min-width:580px">\n                <table\n                  class="m_-6176438667551660725container"\n                  style="border-spacing:0;border-collapse:collapse;padding:0;vertical-align:top;background:#fefefe;width:580px;margin:0 auto;text-align:inherit;max-width:580px"\n                >\n                  <tbody>\n                    <tr style="padding:0;vertical-align:top;text-align:left">\n                      <td\n                        style="word-wrap:break-word;vertical-align:top;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;border-collapse:collapse!important"\n                      >\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <a\n                                    href="#"\n                                    style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;line-height:1.3;color:#2199e8;text-decoration:none"\n                                    target="_blank"\n                                  >\n                                    <!-- <img\n                                      align="center"\n                                      alt="Airbnb"\n                                      class="m_-6176438667551660725center m_-6176438667551660725standard-header CToWUd"\n                                      height="30"\n                                      src="https://ci4.googleusercontent.com/proxy/ycoe9yJWtDXnJKHImcia25D30dkyKMUWkev09437rXQjdXs46I5wDsuZuF7jS8OLh8gCCMZeK5PMFzSb8U-6RXj5c2zjwG0sD2DwMJeD2SrOGQzWpsfp52Qg3X29kLGdKZGDzG2YUO2UgNYqbNgRSwFJug=s0-d-e1-ft#https://a1.muscache.com/airbnb/rookery/dls/logo_standard_2x-c0ed1450d18490825bc37dd6cb23e5c5.png"\n                                      style="outline:none;text-decoration:none;width:auto;max-width:100%;clear:both;display:block;border:none;padding-bottom:16px;padding-top:48px;max-height:30px"\n                                    /> -->\n                                  </a>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                    Ch\xE0o ' + userName + ',\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                    C\xE1m \u01A1n b\u1EA1n \u0111\xE3 \u0111\u0103ng k\xFD tr\u1EDF th\xE0nh ng\u01B0\u1EDDi d\xF9ng tr\xEAn h\u1EC7 th\u1ED1ng ITEDU - Ti\u1EBFp thu c\xF4ng ngh\u1EC7.\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                    Xin h\xE3y click v\xE0o link d\u01B0\u1EDBi \u0111\xE2y \u0111\u1EC3 k\xEDch ho\u1EA1t t\xE0i kho\u1EA3n m\xE0 b\u1EA1n \u0111\xE3 \u0111\u0103ng k\xFD. \n                                    <p></p>\n                                    N\u1EBFu \u0111\xE2y kh\xF4ng ph\u1EA3i l\xE0 b\u1EA1n, vui l\xF2ng b\u1ECF qua email n\xE0y.\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725col-pad-left-2 m_-6176438667551660725col-pad-right-2"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;padding-left:16px;padding-right:16px"\n                                >\n                                  <a\n                                    href="' + activatedLink + '"\n                                    class="m_-6176438667551660725btn-primary m_-6176438667551660725btn-md m_-6176438667551660725btn-rausch"\n                                    style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;margin:0;text-align:left;line-height:1.3;color:#2199e8;text-decoration:none;background-color:#1890ff;border-radius:4px;display:inline-block;padding:12px 24px 12px 24px"\n                                    target="_blank"\n                                  >\n                                    <p\n                                      class="m_-6176438667551660725text-center"\n                                      style=\'font-weight:normal;padding:0;margin:0;text-align:center;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:white;font-size:18px;line-height:26px;margin-bottom:0px!important\'\n                                    >\n                                      Click \u0111\u1EC3 k\xEDch ho\u1EA1t t\xE0i kho\u1EA3n\n                                    </p>\n                                  </a>\n                                  </br>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div style="padding-top:24px">\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                  Tr\xE2n tr\u1ECDng, <p></p>\n                                  LMN team.\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div style="padding-top:56px">\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12 m_-6176438667551660725standard-footer-padding"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <div>\n                                    <hr\n                                      class="m_-6176438667551660725standard-footer-hr"\n                                      style="max-width:580px;border-right:0;border-top:0;border-bottom:1px solid #cacaca;border-left:0;clear:both;background-color:#dbdbdb;height:2px;width:100%;border:none;margin:auto"\n                                    />\n                                    <div\n                                      class="m_-6176438667551660725row-pad-bot-4"\n                                      style="padding-bottom:32px"\n                                    ></div>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    ></p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text m_-6176438667551660725center"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                      <a\n                                        class="m_-6176438667551660725muted"\n                                        href="#"\n                                        style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;line-height:1.3;color:#9ca299;text-decoration:underline"\n                                        target="_blank"\n                                      >\n                                      </a>\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    ></p>\n                                  </div>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </center>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      '
          };
          _context.next = 4;
          return _regenerator2.default.awrap(_mail2.default.send(msg));

        case 4:
        case 'end':
          return _context.stop();
      }
    }
  }, null, undefined);
};

var sendForgetPasswordEmail = function _callee2(userEmail, userName, verifyEmailToken) {
  var activatedLink, msg;
  return _regenerator2.default.async(function _callee2$(_context2) {
    while (1) {
      switch (_context2.prev = _context2.next) {
        case 0:
          activatedLink = _config.FRONTEND_URL + '/reset-password/' + verifyEmailToken;
          msg = {
            to: userEmail,
            from: _config.TEAM_EMAIL,
            subject: 'ITEDU - Thay đổi mật khẩu',
            html: '<table\n        dir="ltr"\n        class="m_-6176438667551660725body"\n        style="border-spacing:0;border-collapse:collapse;vertical-align:top;background:#f3f3f3;height:100%;width:100%;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;margin-bottom:0px!important;background-color:white"\n      >\n        <tbody>\n          <tr style="padding:0;vertical-align:top;text-align:left">\n            <td\n              class="m_-6176438667551660725center"\n              align="center"\n              valign="top"\n              style="word-wrap:break-word;vertical-align:top;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;border-collapse:collapse!important"\n            >\n              <center style="width:100%;min-width:580px">\n                <table\n                  class="m_-6176438667551660725container"\n                  style="border-spacing:0;border-collapse:collapse;padding:0;vertical-align:top;background:#fefefe;width:580px;margin:0 auto;text-align:inherit;max-width:580px"\n                >\n                  <tbody>\n                    <tr style="padding:0;vertical-align:top;text-align:left">\n                      <td\n                        style="word-wrap:break-word;vertical-align:top;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;border-collapse:collapse!important"\n                      >\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <a\n                                    href="#"\n                                    style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;line-height:1.3;color:#2199e8;text-decoration:none"\n                                    target="_blank"\n                                  >\n                                    <!-- <img\n                                      align="center"\n                                      alt="Airbnb"\n                                      class="m_-6176438667551660725center m_-6176438667551660725standard-header CToWUd"\n                                      height="30"\n                                      src="https://ci4.googleusercontent.com/proxy/ycoe9yJWtDXnJKHImcia25D30dkyKMUWkev09437rXQjdXs46I5wDsuZuF7jS8OLh8gCCMZeK5PMFzSb8U-6RXj5c2zjwG0sD2DwMJeD2SrOGQzWpsfp52Qg3X29kLGdKZGDzG2YUO2UgNYqbNgRSwFJug=s0-d-e1-ft#https://a1.muscache.com/airbnb/rookery/dls/logo_standard_2x-c0ed1450d18490825bc37dd6cb23e5c5.png"\n                                      style="outline:none;text-decoration:none;width:auto;max-width:100%;clear:both;display:block;border:none;padding-bottom:16px;padding-top:48px;max-height:30px"\n                                    /> -->\n                                  </a>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                    Ch\xE0o ' + (userName || 'Bạn') + ',\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                    B\u1EA1n nh\u1EADn \u0111\u01B0\u1EE3c mail n\xE0y v\xEC b\u1EA1n \u0111\xE3 y\xEAu c\u1EA7u \u0111\u1ED5i m\u1EADt kh\u1EA9u.\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                      Vui l\xF2ng click v\xE0o n\xFAt b\xEAn d\u01B0\u1EDBi \u0111\u1EC3 \u0111\u1ED5i m\u1EADt kh\u1EA9u.\n                                    <p></p>\n                                    N\u1EBFu \u0111\xE2y kh\xF4ng ph\u1EA3i l\xE0 b\u1EA1n, vui l\xF2ng b\u1ECF qua email n\xE0y.\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725col-pad-left-2 m_-6176438667551660725col-pad-right-2"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;padding-left:16px;padding-right:16px"\n                                >\n                                  <a\n                                    href="' + activatedLink + '"\n                                    class="m_-6176438667551660725btn-primary m_-6176438667551660725btn-md m_-6176438667551660725btn-rausch"\n                                    style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;margin:0;text-align:left;line-height:1.3;color:#2199e8;text-decoration:none;background-color:#1890ff;border-radius:4px;display:inline-block;padding:12px 24px 12px 24px"\n                                    target="_blank"\n                                  >\n                                    <p\n                                      class="m_-6176438667551660725text-center"\n                                      style=\'font-weight:normal;padding:0;margin:0;text-align:center;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:white;font-size:18px;line-height:26px;margin-bottom:0px!important\'\n                                    >\n                                      Click \u0111\u1EC3 thay \u0111\u1ED5i m\u1EADt kh\u1EA9u\n                                    </p>\n                                  </a>\n                                  </br>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div style="padding-top:24px">\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                  Tr\xE2n tr\u1ECDng, <p></p>\n                                  LMN team.\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div style="padding-top:56px">\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12 m_-6176438667551660725standard-footer-padding"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <div>\n                                    <hr\n                                      class="m_-6176438667551660725standard-footer-hr"\n                                      style="max-width:580px;border-right:0;border-top:0;border-bottom:1px solid #cacaca;border-left:0;clear:both;background-color:#dbdbdb;height:2px;width:100%;border:none;margin:auto"\n                                    />\n                                    <div\n                                      class="m_-6176438667551660725row-pad-bot-4"\n                                      style="padding-bottom:32px"\n                                    ></div>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    ></p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text m_-6176438667551660725center"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                      <a\n                                        class="m_-6176438667551660725muted"\n                                        href="#"\n                                        style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;line-height:1.3;color:#9ca299;text-decoration:underline"\n                                        target="_blank"\n                                      >\n                                      </a>\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    ></p>\n                                  </div>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </center>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      '
          };
          _context2.next = 4;
          return _regenerator2.default.awrap(_mail2.default.send(msg));

        case 4:
        case 'end':
          return _context2.stop();
      }
    }
  }, null, undefined);
};

var sendConfirmChangeEmail = function _callee3(userEmail, userName, verifyEmailToken) {
  var activatedLink, msg;
  return _regenerator2.default.async(function _callee3$(_context3) {
    while (1) {
      switch (_context3.prev = _context3.next) {
        case 0:
          activatedLink = _config.FRONTEND_URL + '/activate?jwt=' + verifyEmailToken + '&email=' + userEmail;
          msg = {
            to: userEmail,
            from: _config.TEAM_EMAIL,
            subject: 'ITEDU - Xác nhận email mới',
            html: '<table\n        dir="ltr"\n        class="m_-6176438667551660725body"\n        style="border-spacing:0;border-collapse:collapse;vertical-align:top;background:#f3f3f3;height:100%;width:100%;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;margin-bottom:0px!important;background-color:white"\n      >\n        <tbody>\n          <tr style="padding:0;vertical-align:top;text-align:left">\n            <td\n              class="m_-6176438667551660725center"\n              align="center"\n              valign="top"\n              style="word-wrap:break-word;vertical-align:top;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;border-collapse:collapse!important"\n            >\n              <center style="width:100%;min-width:580px">\n                <table\n                  class="m_-6176438667551660725container"\n                  style="border-spacing:0;border-collapse:collapse;padding:0;vertical-align:top;background:#fefefe;width:580px;margin:0 auto;text-align:inherit;max-width:580px"\n                >\n                  <tbody>\n                    <tr style="padding:0;vertical-align:top;text-align:left">\n                      <td\n                        style="word-wrap:break-word;vertical-align:top;color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;border-collapse:collapse!important"\n                      >\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <a\n                                    href="#"\n                                    style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;line-height:1.3;color:#2199e8;text-decoration:none"\n                                    target="_blank"\n                                  >\n                                    <!-- <img\n                                      align="center"\n                                      alt="Airbnb"\n                                      class="m_-6176438667551660725center m_-6176438667551660725standard-header CToWUd"\n                                      height="30"\n                                      src="https://ci4.googleusercontent.com/proxy/ycoe9yJWtDXnJKHImcia25D30dkyKMUWkev09437rXQjdXs46I5wDsuZuF7jS8OLh8gCCMZeK5PMFzSb8U-6RXj5c2zjwG0sD2DwMJeD2SrOGQzWpsfp52Qg3X29kLGdKZGDzG2YUO2UgNYqbNgRSwFJug=s0-d-e1-ft#https://a1.muscache.com/airbnb/rookery/dls/logo_standard_2x-c0ed1450d18490825bc37dd6cb23e5c5.png"\n                                      style="outline:none;text-decoration:none;width:auto;max-width:100%;clear:both;display:block;border:none;padding-bottom:16px;padding-top:48px;max-height:30px"\n                                    /> -->\n                                  </a>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                    Ch\xE0o ' + userName + ',\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                    Xin h\xE3y click v\xE0o link d\u01B0\u1EDBi \u0111\xE2y \u0111\u1EC3 x\xE1c nh\u1EADn email b\u1EA1n v\u1EEBa \u0111\u1ED5i tr\xEAn h\u1EC7 th\u1ED1ng ITEDU.\n                                    <p></p>\n                                    N\u1EBFu \u0111\xE2y kh\xF4ng ph\u1EA3i l\xE0 b\u1EA1n, vui l\xF2ng b\u1ECF qua email n\xE0y.\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div>\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725col-pad-left-2 m_-6176438667551660725col-pad-right-2"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;font-size:16px;line-height:19px;padding-left:16px;padding-right:16px"\n                                >\n                                  <a\n                                    href="' + activatedLink + '"\n                                    class="m_-6176438667551660725btn-primary m_-6176438667551660725btn-md m_-6176438667551660725btn-rausch"\n                                    style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;margin:0;text-align:left;line-height:1.3;color:#2199e8;text-decoration:none;background-color:#1890ff;border-radius:4px;display:inline-block;padding:12px 24px 12px 24px"\n                                    target="_blank"\n                                  >\n                                    <p\n                                      class="m_-6176438667551660725text-center"\n                                      style=\'font-weight:normal;padding:0;margin:0;text-align:center;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:white;font-size:18px;line-height:26px;margin-bottom:0px!important\'\n                                    >\n                                      Click \u0111\u1EC3 x\xE1c nh\u1EADn email n\xE0y\n                                    </p>\n                                  </a>\n                                  </br>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div style="padding-top:24px">\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <p\n                                    class="m_-6176438667551660725body m_-6176438667551660725body-lg m_-6176438667551660725body-link-rausch m_-6176438667551660725light m_-6176438667551660725text-left"\n                                    style=\'padding:0;margin:0;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;font-weight:300;color:#484848;font-size:18px;line-height:1.4;text-align:left;margin-bottom:0px!important\'\n                                  >\n                                  Tr\xE2n tr\u1ECDng, <p></p>\n                                  LMN team.\n                                  </p>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                        <div style="padding-top:56px">\n                          <table\n                            class="m_-6176438667551660725row"\n                            style="border-spacing:0;border-collapse:collapse;vertical-align:top;text-align:left;padding:0;width:100%;display:table"\n                          >\n                            <tbody>\n                              <tr\n                                style="padding:0;vertical-align:top;text-align:left"\n                              >\n                                <th\n                                  class="m_-6176438667551660725columns m_-6176438667551660725first m_-6176438667551660725large-12 m_-6176438667551660725last m_-6176438667551660725small-12 m_-6176438667551660725standard-footer-padding"\n                                  style="color:#0a0a0a;font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;text-align:left;font-size:16px;line-height:19px;margin:0 auto;padding-bottom:16px;width:564px;padding-left:16px;padding-right:16px"\n                                >\n                                  <div>\n                                    <hr\n                                      class="m_-6176438667551660725standard-footer-hr"\n                                      style="max-width:580px;border-right:0;border-top:0;border-bottom:1px solid #cacaca;border-left:0;clear:both;background-color:#dbdbdb;height:2px;width:100%;border:none;margin:auto"\n                                    />\n                                    <div\n                                      class="m_-6176438667551660725row-pad-bot-4"\n                                      style="padding-bottom:32px"\n                                    ></div>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    ></p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text m_-6176438667551660725center"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    >\n                                      <a\n                                        class="m_-6176438667551660725muted"\n                                        href="#"\n                                        style="font-family:\'Cereal\',Helvetica,Arial,sans-serif;font-weight:normal;padding:0;margin:0;text-align:left;line-height:1.3;color:#9ca299;text-decoration:underline"\n                                        target="_blank"\n                                      >\n                                      </a>\n                                    </p>\n                                    <p\n                                      class="m_-6176438667551660725standard-footer-text"\n                                      style=\'padding:0;margin:0;text-align:left;margin-bottom:10px;font-family:"Cereal","Helvetica",Helvetica,Arial,sans-serif;color:#9ca299;font-size:14px;font-weight:300;line-height:1.4\'\n                                    ></p>\n                                  </div>\n                                </th>\n                              </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </center>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      '
          };
          _context3.next = 4;
          return _regenerator2.default.awrap(_mail2.default.send(msg));

        case 4:
        case 'end':
          return _context3.stop();
      }
    }
  }, null, undefined);
};

var sendThankyouEmail = function _callee4(courseInfo, userInfo, paymentDate, paymentMethod) {
  var courseLink, msg;
  return _regenerator2.default.async(function _callee4$(_context4) {
    while (1) {
      switch (_context4.prev = _context4.next) {
        case 0:
          courseLink = _config.FRONTEND_URL + '/course-detail/' + courseInfo.id;
          msg = {
            to: userInfo.email,
            from: _config.TEAM_EMAIL,
            subject: 'ITEDU - Thanh toán khóa học thành công',
            html: '<table class="es-wrapper" width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;padding:0;Margin:0;width:100%;height:100%;background-repeat:repeat;background-position:center top;"> \n    <tr style="border-collapse:collapse;"> \n     <td valign="top" style="padding:0;Margin:0;"> \n      <table class="es-content" cellspacing="0" cellpadding="0" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;table-layout:fixed !important;width:100%;"> \n        <tr style="border-collapse:collapse;"> \n         <td align="center" style="padding:0;Margin:0;"> \n          <table class="es-content-body" width="600" cellspacing="0" cellpadding="0" bgcolor="#ffffff" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;background-color:#FFFFFF;"> \n            <tr style="border-collapse:collapse;"> \n             <td align="left" style="Margin:0;padding-top:20px;padding-bottom:20px;padding-left:20px;padding-right:20px;"> \n              <table width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                <tr style="border-collapse:collapse;"> \n                 <td width="560" valign="top" align="center" style="padding:0;Margin:0;"> \n                  <table width="100%" cellspacing="0" cellpadding="0" role="presentation" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="center" style="padding:0;Margin:0;"><img class="adapt-img" src="https://fvipqu.stripocdn.email/content/guids/CABINET_76275ee7bc25fd3a7ed5488ac18a09ae/images/40641580829376371.png" alt style="display:block;border:0;outline:none;text-decoration:none;-ms-interpolation-mode:bicubic;" width="100"></td> \n                    </tr> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="left" style="padding:0;Margin:0;padding-top:20px;"><p style="Margin:0;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-size:14px;font-family:arial, \'helvetica neue\', helvetica, sans-serif;line-height:21px;color:#333333;">Ch\xE0o<strong> ' + userInfo.name + ',</strong></p></td> \n                    </tr> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="left" style="padding:0;Margin:0;padding-top:15px;"><p style="Margin:0;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-size:14px;font-family:arial, \'helvetica neue\', helvetica, sans-serif;line-height:21px;color:#333333;">Email n\xE0y \u0111\u01B0\u1EE3c g\u1EEDi \u0111\u1EC3 c\u1EA3m \u01A1n b\u1EA1n v\xEC \u0111\xE3 mua kh\xF3a h\u1ECDc <strong>' + courseInfo.title + '</strong> v\xE0o ng\xE0y <strong>' + paymentDate + '</strong> b\u1EB1ng <strong>' + paymentMethod + '</strong>.<br><br>B\u1EA1n c\xF3 th\u1EC3 truy c\u1EADp kh\xF3a h\u1ECDc \u1EDF link n\xE0y.</p></td> \n                    </tr> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="center" style="Margin:0;padding-top:10px;padding-bottom:10px;padding-left:10px;padding-right:10px;"><span class="es-button-border" style="background:#1890FF;border-width:0px 0px 2px 0px;display:inline-block;border-radius:40px;width:auto;"><a href="' + courseLink + '" class="es-button" target="_blank" style="mso-style-priority:100 !important;text-decoration:none;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-family:arial, \'helvetica neue\', helvetica, sans-serif;font-size:18px;color:#FFFFFF;border-style:solid;border-color:#1890FF;border-width:10px 20px;display:inline-block;background:#1890FF;border-radius:40px;font-weight:normal;font-style:normal;line-height:22px;width:auto;text-align:center;">Click \u0111\u1EC3 xem kh\xF3a h\u1ECDc</a></span></td> \n                    </tr> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="left" style="padding:0;Margin:0;padding-top:20px;"><p style="Margin:0;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-size:14px;font-family:arial, \'helvetica neue\', helvetica, sans-serif;line-height:21px;color:#333333;">Tr\xE2n tr\u1ECDng,<br>LMN Team.</p></td> \n                    </tr> \n                  </table></td> \n                </tr> \n              </table></td> \n            </tr> \n          </table></td> \n        </tr> \n      </table> \n      <table class="es-footer" cellspacing="0" cellpadding="0" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;table-layout:fixed !important;width:100%;background-color:transparent;background-repeat:repeat;background-position:center top;"> \n        <tr style="border-collapse:collapse;"> \n         <td align="center" style="padding:0;Margin:0;"> \n          <table class="es-footer-body" width="600" cellspacing="0" cellpadding="0" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;background-color:transparent;"> \n            <tr style="border-collapse:collapse;"> \n             <td align="left" style="Margin:0;padding-top:20px;padding-bottom:20px;padding-left:20px;padding-right:20px;"> \n              <table width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                <tr style="border-collapse:collapse;"> \n                 <td width="560" valign="top" align="center" style="padding:0;Margin:0;"> \n                  <table width="100%" cellspacing="0" cellpadding="0" role="presentation" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="center" style="padding:0;Margin:0;padding-top:10px;padding-bottom:10px;"><p style="Margin:0;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-size:11px;font-family:arial, \'helvetica neue\', helvetica, sans-serif;line-height:17px;color:#333333;">\xA9 2020 N\u1EC1n t\u1EA3ng h\u1ECDc tr\u1EF1c tuy\u1EBFn ITEDU</p></td> \n                    </tr> \n                  </table></td> \n                </tr> \n              </table></td> \n            </tr> \n          </table></td> \n        </tr> \n      </table> \n      <table class="es-content" cellspacing="0" cellpadding="0" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;table-layout:fixed !important;width:100%;"> \n        <tr style="border-collapse:collapse;"> \n         <td align="center" style="padding:0;Margin:0;"> \n          <table class="es-content-body" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;background-color:transparent;" width="600" cellspacing="0" cellpadding="0" align="center"> \n            <tr style="border-collapse:collapse;"> \n             <td align="left" style="padding:0;Margin:0;padding-left:20px;padding-right:20px;padding-bottom:30px;"> \n              <table width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                <tr style="border-collapse:collapse;"> \n                 <td width="560" valign="top" align="center" style="padding:0;Margin:0;"> \n                  <table width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="center" style="padding:0;Margin:0;display:none;"></td> \n                    </tr> \n                  </table></td> \n                </tr> \n              </table></td> \n            </tr> \n          </table></td> \n        </tr> \n      </table></td> \n    </tr> \n  </table>'
          };
          _context4.next = 4;
          return _regenerator2.default.awrap(_mail2.default.send(msg));

        case 4:
        case 'end':
          return _context4.stop();
      }
    }
  }, null, undefined);
};

var sendFreeCourseThankyouEmail = function _callee5(courseInfo, userInfo, paymentDate) {
  var courseLink, msg;
  return _regenerator2.default.async(function _callee5$(_context5) {
    while (1) {
      switch (_context5.prev = _context5.next) {
        case 0:
          courseLink = _config.FRONTEND_URL + '/course-detail/' + courseInfo.id;
          msg = {
            to: userInfo.email,
            from: _config.TEAM_EMAIL,
            subject: 'ITEDU - Đăng ký khóa học thành công',
            html: '<table class="es-wrapper" width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;padding:0;Margin:0;width:100%;height:100%;background-repeat:repeat;background-position:center top;"> \n    <tr style="border-collapse:collapse;"> \n     <td valign="top" style="padding:0;Margin:0;"> \n      <table class="es-content" cellspacing="0" cellpadding="0" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;table-layout:fixed !important;width:100%;"> \n        <tr style="border-collapse:collapse;"> \n         <td align="center" style="padding:0;Margin:0;"> \n          <table class="es-content-body" width="600" cellspacing="0" cellpadding="0" bgcolor="#ffffff" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;background-color:#FFFFFF;"> \n            <tr style="border-collapse:collapse;"> \n             <td align="left" style="Margin:0;padding-top:20px;padding-bottom:20px;padding-left:20px;padding-right:20px;"> \n              <table width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                <tr style="border-collapse:collapse;"> \n                 <td width="560" valign="top" align="center" style="padding:0;Margin:0;"> \n                  <table width="100%" cellspacing="0" cellpadding="0" role="presentation" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="center" style="padding:0;Margin:0;"><img class="adapt-img" src="https://fvipqu.stripocdn.email/content/guids/CABINET_76275ee7bc25fd3a7ed5488ac18a09ae/images/40641580829376371.png" alt style="display:block;border:0;outline:none;text-decoration:none;-ms-interpolation-mode:bicubic;" width="100"></td> \n                    </tr> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="left" style="padding:0;Margin:0;padding-top:20px;"><p style="Margin:0;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-size:14px;font-family:arial, \'helvetica neue\', helvetica, sans-serif;line-height:21px;color:#333333;">Ch\xE0o<strong> ' + userInfo.name + ',</strong></p></td> \n                    </tr> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="left" style="padding:0;Margin:0;padding-top:15px;"><p style="Margin:0;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-size:14px;font-family:arial, \'helvetica neue\', helvetica, sans-serif;line-height:21px;color:#333333;">Email n\xE0y \u0111\u01B0\u1EE3c g\u1EEDi \u0111\u1EC3 c\u1EA3m \u01A1n b\u1EA1n v\xEC \u0111\xE3 \u0111\u0103ng k\xFD kh\xF3a h\u1ECDc <strong>' + courseInfo.title + '</strong> v\xE0o ng\xE0y <strong>' + paymentDate + '</strong>.<br><br>B\u1EA1n c\xF3 th\u1EC3 truy c\u1EADp kh\xF3a h\u1ECDc \u1EDF link n\xE0y.</p></td> \n                    </tr> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="center" style="Margin:0;padding-top:10px;padding-bottom:10px;padding-left:10px;padding-right:10px;"><span class="es-button-border" style="background:#1890FF;border-width:0px 0px 2px 0px;display:inline-block;border-radius:40px;width:auto;"><a href="' + courseLink + '" class="es-button" target="_blank" style="mso-style-priority:100 !important;text-decoration:none;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-family:arial, \'helvetica neue\', helvetica, sans-serif;font-size:18px;color:#FFFFFF;border-style:solid;border-color:#1890FF;border-width:10px 20px;display:inline-block;background:#1890FF;border-radius:40px;font-weight:normal;font-style:normal;line-height:22px;width:auto;text-align:center;">Click \u0111\u1EC3 xem kh\xF3a h\u1ECDc</a></span></td> \n                    </tr> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="left" style="padding:0;Margin:0;padding-top:20px;"><p style="Margin:0;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-size:14px;font-family:arial, \'helvetica neue\', helvetica, sans-serif;line-height:21px;color:#333333;">Tr\xE2n tr\u1ECDng,<br>LMN Team.</p></td> \n                    </tr> \n                  </table></td> \n                </tr> \n              </table></td> \n            </tr> \n          </table></td> \n        </tr> \n      </table> \n      <table class="es-footer" cellspacing="0" cellpadding="0" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;table-layout:fixed !important;width:100%;background-color:transparent;background-repeat:repeat;background-position:center top;"> \n        <tr style="border-collapse:collapse;"> \n         <td align="center" style="padding:0;Margin:0;"> \n          <table class="es-footer-body" width="600" cellspacing="0" cellpadding="0" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;background-color:transparent;"> \n            <tr style="border-collapse:collapse;"> \n             <td align="left" style="Margin:0;padding-top:20px;padding-bottom:20px;padding-left:20px;padding-right:20px;"> \n              <table width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                <tr style="border-collapse:collapse;"> \n                 <td width="560" valign="top" align="center" style="padding:0;Margin:0;"> \n                  <table width="100%" cellspacing="0" cellpadding="0" role="presentation" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="center" style="padding:0;Margin:0;padding-top:10px;padding-bottom:10px;"><p style="Margin:0;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;mso-line-height-rule:exactly;font-size:11px;font-family:arial, \'helvetica neue\', helvetica, sans-serif;line-height:17px;color:#333333;">\xA9 2020 N\u1EC1n t\u1EA3ng h\u1ECDc tr\u1EF1c tuy\u1EBFn ITEDU</p></td> \n                    </tr> \n                  </table></td> \n                </tr> \n              </table></td> \n            </tr> \n          </table></td> \n        </tr> \n      </table> \n      <table class="es-content" cellspacing="0" cellpadding="0" align="center" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;table-layout:fixed !important;width:100%;"> \n        <tr style="border-collapse:collapse;"> \n         <td align="center" style="padding:0;Margin:0;"> \n          <table class="es-content-body" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;background-color:transparent;" width="600" cellspacing="0" cellpadding="0" align="center"> \n            <tr style="border-collapse:collapse;"> \n             <td align="left" style="padding:0;Margin:0;padding-left:20px;padding-right:20px;padding-bottom:30px;"> \n              <table width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                <tr style="border-collapse:collapse;"> \n                 <td width="560" valign="top" align="center" style="padding:0;Margin:0;"> \n                  <table width="100%" cellspacing="0" cellpadding="0" style="mso-table-lspace:0pt;mso-table-rspace:0pt;border-collapse:collapse;border-spacing:0px;"> \n                    <tr style="border-collapse:collapse;"> \n                     <td align="center" style="padding:0;Margin:0;display:none;"></td> \n                    </tr> \n                  </table></td> \n                </tr> \n              </table></td> \n            </tr> \n          </table></td> \n        </tr> \n      </table></td> \n    </tr> \n  </table>'
          };
          _context5.next = 4;
          return _regenerator2.default.awrap(_mail2.default.send(msg));

        case 4:
        case 'end':
          return _context5.stop();
      }
    }
  }, null, undefined);
};

exports.default = {
  sendActivateUserEmail: sendActivateUserEmail,
  sendForgetPasswordEmail: sendForgetPasswordEmail,
  sendConfirmChangeEmail: sendConfirmChangeEmail,
  sendThankyouEmail: sendThankyouEmail,
  sendFreeCourseThankyouEmail: sendFreeCourseThankyouEmail
};
module.exports = exports.default;